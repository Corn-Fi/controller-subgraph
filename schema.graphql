type User @entity {
  # id = User address
  id: ID!

  strategyTokens: [StrategyToken!]
}

type ERC20 @entity {
  # id = ERC20 address "-" strategy ID "-" token ID
  id: ID!

  strategyToken: StrategyToken!
  owner: Bytes!
  address: Bytes!
  amount: BigInt!
}

type StrategyToken @entity {
  # id = strategy ID "-" token ID
  id: ID!

  strategyId: BigInt!
  tokenId: BigInt!
  owner: Bytes!
  trades: [Trade!]
  erc20: [ERC20!]
  open: Boolean!
  timestamp: BigInt!
}

type Trade @entity {
  #id = strategy ID "-" token ID "-" trade ID
  id: ID!

  tradeId: BigInt!
  token: StrategyToken!
  orders: [Order!]
  timestamp: BigInt!
}

type Order @entity {
  # id = strategy ID "-" order ID
  id: ID!

  orderId: BigInt!  
  fromToken: Bytes!
  toToken: Bytes!
  amountIn: BigInt!
  desiredAmountOut: BigInt!
  amountOut: BigInt!
  expiration: BigInt!
  open: Boolean!
  timestamp: BigInt!
  strategyToken: StrategyToken!
}